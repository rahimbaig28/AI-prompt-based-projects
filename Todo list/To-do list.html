<!--
Prompt for AI:
Build a stylish AI-themed to-do list web app using only HTML, CSS, and JavaScript. 
It should let me add, edit, delete, and mark tasks as complete. 
Store data in localStorage so tasks stay after refresh. Use a glowing cyberpunk design with animated buttons and a futuristic font.
-->

<!--
AI Task Matrix
A stylish, AI-themed to-do list web application with a glowing cyberpunk design. This app allows you to manage your daily tasks with the help of powerful AI features provided by the Gemini API.

Features
CRUD Functionality: Add, edit, delete, and mark tasks as complete.

Persistent Storage: Your tasks are saved in the browser's localStorage, so they remain even after you refresh the page.

Cyberpunk UI: A futuristic, glowing interface with an animated, responsive design.
-->



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Task Matrix</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the cyberpunk/AI theme */
        body {
            font-family: 'Orbitron', sans-serif;
            background-color: #0a0a1a;
            color: #00f7ff;
            background-image:
                linear-gradient(rgba(0, 247, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 247, 255, 0.05) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .container {
            background: rgba(10, 10, 30, 0.8);
            border: 1px solid rgba(0, 247, 255, 0.3);
            box-shadow: 0 0 25px rgba(0, 247, 255, 0.3), inset 0 0 15px rgba(0, 247, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .glow-text {
            text-shadow:
                0 0 5px #00f7ff,
                0 0 10px #00f7ff,
                0 0 20px #00f7ff,
                0 0 40px #ff00de,
                0 0 70px #ff00de;
        }

        .task-input, .task-btn {
            font-family: 'Orbitron', sans-serif;
            background: rgba(0, 247, 255, 0.1);
            border: 1px solid #00f7ff;
            box-shadow: 0 0 10px rgba(0, 247, 255, 0.5);
            transition: all 0.3s ease;
        }
        
        .task-input:focus {
            outline: none;
            box-shadow: 0 0 15px #00f7ff, 0 0 5px #ff00de;
            border-color: #ff00de;
        }

        .task-btn {
            text-shadow: 0 0 5px #00f7ff;
        }

        .task-btn:hover, .task-btn:focus {
            background: rgba(0, 247, 255, 0.2);
            box-shadow: 0 0 15px #00f7ff, 0 0 5px #ff00de;
            transform: translateY(-2px);
        }
        
        .task-item {
            background: rgba(0, 247, 255, 0.05);
            border: 1px solid rgba(0, 247, 255, 0.2);
            box-shadow: 0 0 5px rgba(0, 247, 255, 0.2);
            animation: fadeIn 0.5s ease-in-out;
            transition: all 0.3s ease;
        }

        .task-item:hover {
            border-color: rgba(255, 0, 222, 0.5);
            box-shadow: 0 0 10px rgba(255, 0, 222, 0.3);
        }

        .task-item.completed span {
            text-decoration: line-through;
            color: rgba(0, 247, 255, 0.4);
            text-shadow: none;
        }
        
        .task-item.completed {
            background: rgba(40, 0, 60, 0.2);
            border-color: rgba(255, 0, 222, 0.2);
        }
        
        .task-item-btn {
             background: transparent;
             border: 1px solid transparent;
             transition: all 0.3s ease;
        }
        
        .edit-btn:hover {
            color: #ffc800;
            text-shadow: 0 0 8px #ffc800;
        }
        
        .delete-btn:hover {
            color: #ff0055;
            text-shadow: 0 0 8px #ff0055;
        }
        
        /* Custom checkbox */
        .task-checkbox {
            appearance: none;
            -webkit-appearance: none;
            height: 1.25rem;
            width: 1.25rem;
            background-color: rgba(0, 247, 255, 0.1);
            border: 1px solid #00f7ff;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        .task-checkbox:checked {
            background-color: #00f7ff;
            box-shadow: 0 0 10px #00f7ff;
        }
        .task-checkbox:checked::after {
            content: '';
            position: absolute;
            top: 1px;
            left: 5px;
            width: 6px;
            height: 12px;
            border: solid #0a0a1a;
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
        }

        /* Scrollbar styles */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0a1a;
        }
        ::-webkit-scrollbar-thumb {
            background: #00f7ff;
            border-radius: 4px;
            box-shadow: 0 0 5px #00f7ff;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #ff00de;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <main class="container w-full max-w-2xl mx-auto rounded-lg p-6 md:p-8">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold glow-text">AI Task Matrix</h1>
            <p class="text-sm text-cyan-300 opacity-80 mt-2">Synchronizing your daily directives...</p>
        </header>

        <!-- Input Form -->
        <div class="flex gap-4 mb-8">
            <input type="text" id="taskInput" placeholder="Enter a new directive..." class="task-input w-full px-4 py-2 rounded-md text-cyan-300 placeholder-cyan-500/50 focus:ring-0">
            <button id="addTaskBtn" class="task-btn px-6 py-2 rounded-md font-bold whitespace-nowrap">Add Task</button>
        </div>

        <!-- Task List -->
        <ul id="taskList" class="space-y-3 max-h-[50vh] overflow-y-auto pr-2">
            <!-- Task items will be dynamically inserted here -->
        </ul>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const taskInput = document.getElementById('taskInput');
            const addTaskBtn = document.getElementById('addTaskBtn');
            const taskList = document.getElementById('taskList');

            // Load tasks from localStorage
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

            // Function to save tasks to localStorage
            const saveTasks = () => {
                localStorage.setItem('tasks', JSON.stringify(tasks));
            };

            // Function to render tasks to the UI
            const renderTasks = () => {
                taskList.innerHTML = '';
                if (tasks.length === 0) {
                    taskList.innerHTML = `<li class="text-center text-cyan-400 opacity-60 p-4">No pending directives. System is idle.</li>`;
                    return;
                }
                
                tasks.forEach(task => {
                    const li = document.createElement('li');
                    li.className = `task-item flex items-center justify-between p-4 rounded-lg ${task.completed ? 'completed' : ''}`;
                    li.dataset.id = task.id;

                    const isEditing = task.isEditing || false;

                    li.innerHTML = `
                        <div class="flex items-center gap-4 flex-grow">
                            <input type="checkbox" class="task-checkbox flex-shrink-0" ${task.completed ? 'checked' : ''}>
                            <span class="task-text text-cyan-300 break-all ${isEditing ? 'hidden' : ''}">${task.text}</span>
                            <input type="text" class="edit-input task-input w-full px-2 py-1 rounded-md text-cyan-300 ${!isEditing ? 'hidden' : ''}" value="${task.text}">
                        </div>
                        <div class="flex items-center gap-2 ml-4 flex-shrink-0">
                            <button class="task-item-btn edit-btn p-1 text-cyan-400">${isEditing ? 
                                `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>` 
                                : 
                                `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>`
                            }</button>
                            <button class="task-item-btn delete-btn p-1 text-cyan-400">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                            </button>
                        </div>
                    `;
                    taskList.appendChild(li);
                });
            };

            // Function to add a new task
            const addTask = () => {
                const text = taskInput.value.trim();
                if (text) {
                    tasks.push({ id: Date.now(), text: text, completed: false });
                    taskInput.value = '';
                    saveTasks();
                    renderTasks();
                }
            };

            // Event Listeners
            addTaskBtn.addEventListener('click', addTask);
            taskInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addTask();
                }
            });

            // Event delegation for task list actions
            taskList.addEventListener('click', (e) => {
                const li = e.target.closest('.task-item');
                if (!li) return;

                const id = Number(li.dataset.id);
                const task = tasks.find(t => t.id === id);

                // Checkbox toggle
                if (e.target.classList.contains('task-checkbox')) {
                    task.completed = e.target.checked;
                    saveTasks();
                    renderTasks();
                }

                // Delete button
                if (e.target.closest('.delete-btn')) {
                    tasks = tasks.filter(t => t.id !== id);
                    saveTasks();
                    renderTasks();
                }

                // Edit/Save button
                if (e.target.closest('.edit-btn')) {
                    const editInput = li.querySelector('.edit-input');
                    const taskText = li.querySelector('.task-text');

                    if (task.isEditing) {
                        // Save changes
                        const newText = editInput.value.trim();
                        if(newText) {
                           task.text = newText;
                        }
                        delete task.isEditing;
                    } else {
                        // Enter edit mode
                        tasks.forEach(t => delete t.isEditing); // Exit other edit modes
                        task.isEditing = true;
                    }

                    saveTasks();
                    renderTasks();

                    // If we just entered edit mode, focus the input
                    if (task.isEditing) {
                        const newLi = taskList.querySelector(`[data-id='${id}']`);
                        const inputToFocus = newLi.querySelector('.edit-input');
                        inputToFocus.focus();
                        inputToFocus.select();
                    }
                }
            });

            // Handle saving edit on Enter key
            taskList.addEventListener('keypress', (e) => {
                 if (e.key === 'Enter' && e.target.classList.contains('edit-input')) {
                     const li = e.target.closest('.task-item');
                     if (!li) return;
                     const id = Number(li.dataset.id);
                     const task = tasks.find(t => t.id === id);
                     const newText = e.target.value.trim();
                     if(newText) {
                         task.text = newText;
                     }
                     delete task.isEditing;
                     saveTasks();
                     renderTasks();
                 }
            });


            // Initial render
            renderTasks();
        });
    </script>
</body>
</html>
